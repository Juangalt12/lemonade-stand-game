<!DOCTYPE html>
<html>
<head>
    <title>Lemonade Stand Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comic Neue', cursive;
            margin: 20px;
            background-image: linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)), 
                              url('https://wallsneedlove.com/cdn/shop/products/w0568_1s_Yellow-lemon-and-orange-sketch-wallpaper-Citrus-Grove_Repeating-Pattern-Sample-1.jpg?v=1734715911&width=1800');
            background-size: cover;
            background-position: center;
        }
        h1, h2 {
            color: #ff8c00;
            text-align: center;
            margin: 10px 0;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        label {
            display: inline-block;
            width: 300px;
            margin: 5px 0;
            color: #333;
        }
        input, select {
            margin: 5px 0;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Comic Neue', cursive;
        }
        button {
            margin: 10px 0;
            padding: 12px 25px;
            background-color: #ffeb3b;
            color: #333;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button:hover {
            background-color: #fdd835;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        #inventory {
            background: #fffacd;
            border-color: #ffd700;
        }
        #results {
            background: #e0ffe0;
            border-color: #32cd32;
        }
        #history {
            background: #f0f8ff;
            border-color: #4682b4;
        }
        #costFeedback {
            background: #fafad2;
            border-color: #f4a460;
            margin-top: 10px;
            font-style: italic;
            color: #666;
        }
        #inventory, #results, #history, #costFeedback {
            padding: 15px;
            border: 2px solid;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .note { font-style: italic; color: #666; }
        .error { color: red; font-weight: bold; }
        .hint { color: #228b22; font-style: italic; }
        .warning { color: orange; font-weight: bold; }
        .highlight { font-weight: bold; font-size: 1.2em; }
        .final-results { font-weight: bold; font-size: 1.5em; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Lemonade Stand Game</h1>
        <p id="weekIndicator">Week 1 of 6</p>
        <p>Run your lemonade stand for 6 weeks to maximize profit! Manage your bankroll, inventory, and employees wisely.</p>
        <p class="note">Higher quality lemons, a good recipe, and special ingredients boost taste and sales. Tips are added each week!</p>
        <div id="inventory">
            <h2>Inventory</h2>
            <p class="highlight">Bankroll: $<span id="bankroll">600.00</span></p>
            Lemons: <span id="lemons">None</span><br>
            Sugar: <span id="sugar">0</span>
        </div>
        <form id="inputForm">
            <h2>Buy Ingredients</h2>
            <label for="vendor">Vendor:</label>
            <select id="vendor" onchange="updateQualityOptions()">
                <option value="wholesale">Wholesale (min 25 lemons, in increments of 25)</option>
                <option value="topnotch">Top Notch (no min, always has Prime lemons)</option>
            </select><br>
            <label for="lemonQuality">Lemon Quality to Buy:</label>
            <select id="lemonQuality"></select><br>
            <label for="buyLemons">Number of lemons to buy:</label>
            <input type="number" id="buyLemons" min="0" value="0"><br>
            <label for="buySugar">Sugar cubes to buy ($0.05 each):</label>
            <input type="number" id="buySugar" min="0" value="0"><br>
            <label for="signs">Number of signs (0-5, $20 each):</label>
            <input type="number" id="signs" min="0" max="5" value="0"><br>
            <h2>Set Recipe</h2>
            <label for="lemonsPerCup">Lemons per cup (1-3):</label>
            <input type="number" id="lemonsPerCup" min="1" max="3" value="1"><br>
            <label for="sugarPerCup">Sugar cubes per cup (1-3):</label>
            <input type="number" id="sugarPerCup" min="1" max="3" value="1"><br>
            <label for="specialIngredient">Special Ingredient:</label>
            <select id="specialIngredient">
                <option value="none">None (Simple Cup)</option>
                <option value="mint">Mint ($0.21 per cup)</option>
                <option value="basil">Basil ($0.28 per cup)</option>
                <option value="ginger">Ginger ($0.35 per cup)</option>
                <option value="lavender">Lavender ($0.42 per cup)</option>
            </select><br>
            <h2>Choose Cup Type</h2>
            <label for="cupType">Cup Type:</label>
            <select id="cupType">
                <option value="paper">Cheap Paper Cups ($0.03 per cup, -5% demand)</option>
                <option value="redsolo">Red Solo Cups ($0.05 per cup, base demand)</option>
                <option value="crystal">Elegant Fake Crystal Glasses ($0.06 per cup, +5% demand)</option>
            </select><br>
            <h2>Hire Employees</h2>
            <p class="note">Intern ($40, sells 70 cups), Experienced ($100, sells 200 cups), Manager ($90, sells 120 cups + boosts others by 30%). At least one required.</p>
            <label for="interns">Number of Interns:</label>
            <input type="number" id="interns" min="0" value="0"><br>
            <label for="experienced">Number of Experienced Salespeople:</label>
            <input type="number" id="experienced" min="0" value="0"><br>
            <label for="managers">Number of Managers:</label>
            <input type="number" id="managers" min="0" value="0"><br>
            <h2>Set Sales Price</h2>
            <div id="costFeedback" class="note"></div>
            <label for="salesPrice">Sales Price per Cup ($): </label>
            <input type="number" id="salesPrice" min="0.01" step="0.01" value="2.00"><br>
            <p class="note">Note: Higher prices reduce demand (e.g., $0.50 above $1.75 cuts demand by 25%).</p>
            <button type="button" onclick="processWeek()">Submit Week</button>
        </form>
        <div id="errors" class="error"></div>
        <div id="results"></div>
        <div id="history">
            <h2>Week History</h2>
            <span id="historyContent">No weeks completed yet.</span>
        </div>
        <button id="restart" style="display:none;" onclick="restartGame()">Restart Game</button>
    </div>

    <script>
        const INITIAL_BANKROLL = 600;
        const MIN_WHOLESALE_LEMONS = 25;
        const WHOLESALE_INCREMENT = 25;
        const SUGAR_COST = 0.05;
        const SIGN_COST = 20;
        const MAX_WEEKS = 6;
        const QUALITY_NAMES = {1: "Irregular", 2: "Average", 3: "Good", 4: "Prime"};
        const BASE_CUSTOMERS = 100;
        const SPOILAGE_RATE = 0.1;
        const SPOILAGE_COST_PER_LEMON = 0.1;
        const SPECIAL_INGREDIENTS = {
            none: { name: "None", cost: 0, demandBoost: 0 },
            mint: { name: "Mint", cost: 0.21, demandBoost: 0.02 },
            basil: { name: "Basil", cost: 0.28, demandBoost: 0.03 },
            ginger: { name: "Ginger", cost: 0.35, demandBoost: 0.05 },
            lavender: { name: "Lavender", cost: 0.42, demandBoost: 0.10 }
        };
        const CUP_TYPES = {
            paper: { name: "Cheap Paper Cups", cost: 0.03, demandBoost: -0.05 },
            redsolo: { name: "Red Solo Cups", cost: 0.05, demandBoost: 0 },
            crystal: { name: "Elegant Fake Crystal Glasses", cost: 0.06, demandBoost: 0.05 }
        };
        const EMPLOYEE_TYPES = {
            intern: { wage: 40, capacity: 70 },      // Updated to $40
            experienced: { wage: 100, capacity: 200 }, // Updated to $100
            manager: { wage: 90, capacity: 120, boost: 0.3 } // Updated to $90
        };

        const gameState = {
            week: 1,
            bankroll: INITIAL_BANKROLL,
            totalProfit: 0,
            cumulativeRevenue: 0,
            cumulativeExpenses: 0,
            wordOfMouthBonus: 0,
            lemonsInventory: {1: 0, 2: 0, 3: 0, 4: 0},
            sugarInventory: 0,
            vendorOffers: {},
            history: [],
            poorQualityPenaltyNextWeek: false,
            previousRevenue: 0,
            firstWeekRevenue: 0
        };

        const elements = {
            weekIndicator: document.getElementById('weekIndicator'),
            bankroll: document.getElementById('bankroll'),
            lemons: document.getElementById('lemons'),
            sugar: document.getElementById('sugar'),
            errors: document.getElementById('errors'),
            results: document.getElementById('results'),
            historyContent: document.getElementById('historyContent'),
            inputForm: document.getElementById('inputForm'),
            restart: document.getElementById('restart'),
            costFeedback: document.getElementById('costFeedback')
        };

        initializeGame();

        function initializeGame() {
            gameState.week = 1;
            gameState.bankroll = INITIAL_BANKROLL;
            gameState.totalProfit = 0;
            gameState.cumulativeRevenue = 0;
            gameState.cumulativeExpenses = 0;
            gameState.wordOfMouthBonus = 0;
            gameState.lemonsInventory = {1: 0, 2: 0, 3: 0, 4: 0};
            gameState.sugarInventory = 0;
            gameState.history = [];
            gameState.poorQualityPenaltyNextWeek = false;
            gameState.previousRevenue = 0;
            gameState.firstWeekRevenue = 0;
            generateVendorOffers();
            updateInventoryDisplay();
            updateQualityOptions();
            updateCostFeedback();
        }

        function generateVendorOffers() {
            const qualities = [1, 2, 3, 4];
            const topNotchOther = shuffle(qualities.slice(0,3)).slice(0,2);
            const topNotchQualities = [4, ...topNotchOther];
            gameState.vendorOffers.topnotch = topNotchQualities.map(q => {
                const basePrice = 0.5 * q;
                const reducedPrice = Math.round((basePrice * 0.6) / 0.1) * 0.1;
                return { quality: q, name: QUALITY_NAMES[q], price: reducedPrice.toFixed(2) };
            });
            const wholesaleQualities = shuffle(qualities).slice(0,3);
            gameState.vendorOffers.wholesale = wholesaleQualities.map(q => {
                const basePrice = 0.5 * q * 0.7;
                const reducedPrice = Math.round((basePrice * 0.6) / 0.1) * 0.1;
                return { quality: q, name: QUALITY_NAMES[q], price: reducedPrice.toFixed(2) };
            });
        }

        function updateQualityOptions() {
            const vendor = document.getElementById('vendor').value;
            const offers = gameState.vendorOffers[vendor];
            const select = document.getElementById('lemonQuality');
            select.innerHTML = '';
            offers.forEach(offer => {
                const option = document.createElement('option');
                option.value = offer.quality;
                option.text = `${offer.name} (Quality ${offer.quality}, $${offer.price} each)`;
                select.add(option);
            });
            updateCostFeedback();
        }

        function updateInventoryDisplay() {
            let lemonsStr = '';
            for (let q in gameState.lemonsInventory) {
                if (gameState.lemonsInventory[q] > 0) {
                    lemonsStr += `${QUALITY_NAMES[q]}: ${gameState.lemonsInventory[q]}<br>`;
                }
            }
            elements.lemons.innerHTML = lemonsStr || 'None';
            elements.sugar.textContent = gameState.sugarInventory;
            elements.bankroll.textContent = gameState.bankroll.toFixed(2);
        }

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function calculateAverageQuality() {
            let totalQuality = 0;
            let totalLemons = 0;
            for (let q in gameState.lemonsInventory) {
                const quantity = gameState.lemonsInventory[q];
                totalQuality += parseInt(q) * quantity;
                totalLemons += quantity;
            }
            return totalLemons > 0 ? totalQuality / totalLemons : 0;
        }

        function getRecipeDemandMultiplier(lemons, sugar) {
            if (lemons === 1 && sugar === 1) return 0.75;         // -25%
            if (lemons === 2 && sugar === 2) return 1.0;          // Breakeven
            if (lemons === 3 && sugar === 3) return 1.25;         // +25%
            if ((lemons === 2 && sugar === 3) || (lemons === 3 && sugar === 2)) return 1.125; // +12.5%
            if ((lemons === 1 && sugar === 2) || (lemons === 2 && sugar === 1)) return 0.875; // -12.5%
            if ((lemons === 1 && sugar === 3) || (lemons === 3 && sugar === 1)) return 0.75;  // -25%
            return 1.0; // Default for other combinations
        }

        function updateCostFeedback() {
            const vendor = document.getElementById('vendor').value;
            const qualitySelect = document.getElementById('lemonQuality');
            const qualityIndex = qualitySelect.selectedIndex;
            if (qualityIndex === -1) return;
            const offer = gameState.vendorOffers[vendor][qualityIndex];
            const price = parseFloat(offer.price);
            const buyLemons = parseInt(document.getElementById('buyLemons').value) || 0;
            const buySugar = parseInt(document.getElementById('buySugar').value) || 0;
            const signs = parseInt(document.getElementById('signs').value) || 0;
            const interns = parseInt(document.getElementById('interns').value) || 0;
            const experienced = parseInt(document.getElementById('experienced').value) || 0;
            const managers = parseInt(document.getElementById('managers').value) || 0;
            const lemonsPerCup = parseInt(document.getElementById('lemonsPerCup').value) || 0;
            const sugarPerCup = parseInt(document.getElementById('sugarPerCup').value) || 0;
            const specialIngredient = document.getElementById('specialIngredient').value;
            const specialIngredientCost = SPECIAL_INGREDIENTS[specialIngredient].cost;
            const cupType = document.getElementById('cupType').value;
            const cupCost = CUP_TYPES[cupType].cost;

            const costLemons = buyLemons * price;
            const costSugar = buySugar * SUGAR_COST;
            const costSigns = signs * SIGN_COST;
            const costEmployees = (interns * EMPLOYEE_TYPES.intern.wage) + 
                                (experienced * EMPLOYEE_TYPES.experienced.wage) + 
                                (managers * EMPLOYEE_TYPES.manager.wage);
            const totalPurchaseCost = costLemons + costSugar + costSigns + costEmployees;

            const materialsCostPerCup = (lemonsPerCup * price) + (sugarPerCup * SUGAR_COST) + specialIngredientCost + cupCost;

            let nonManagerCapacity = (interns * EMPLOYEE_TYPES.intern.capacity) + (experienced * EMPLOYEE_TYPES.experienced.capacity);
            const managerCapacity = managers * EMPLOYEE_TYPES.manager.capacity;
            const totalCapacity = managers > 0 ? Math.floor(nonManagerCapacity * (1 + EMPLOYEE_TYPES.manager.boost)) + managerCapacity : nonManagerCapacity + managerCapacity;
            const employeeCostPerCup = totalCapacity > 0 ? (costEmployees / totalCapacity) : 0;

            const totalCostPerCup = materialsCostPerCup + employeeCostPerCup;

            elements.costFeedback.innerHTML = `Materials Cost per Cup: $${materialsCostPerCup.toFixed(2)}<br>Total Cost per Cup (incl. employees): $${totalCostPerCup.toFixed(2)}<br><strong>Total purchases cost: $${totalPurchaseCost.toFixed(2)}</strong>`;
            elements.costFeedback.className = (gameState.bankroll - totalPurchaseCost < 0) ? 'warning' : 'note';
        }

        function processWeek() {
            elements.errors.innerHTML = '';

            const vendor = document.getElementById('vendor').value;
            const qualitySelect = document.getElementById('lemonQuality');
            const quality = parseInt(qualitySelect.value);
            const buyLemons = parseInt(document.getElementById('buyLemons').value) || 0;
            const buySugar = parseInt(document.getElementById('buySugar').value) || 0;
            const signs = parseInt(document.getElementById('signs').value) || 0;
            const lemonsPerCup = parseInt(document.getElementById('lemonsPerCup').value) || 0;
            const sugarPerCup = parseInt(document.getElementById('sugarPerCup').value) || 0;
            const specialIngredient = document.getElementById('specialIngredient').value;
            const cupType = document.getElementById('cupType').value;
            const interns = parseInt(document.getElementById('interns').value) || 0;
            const experienced = parseInt(document.getElementById('experienced').value) || 0;
            const managers = parseInt(document.getElementById('managers').value) || 0;
            const salesPrice = parseFloat(document.getElementById('salesPrice').value) || 0;

            const offer = gameState.vendorOffers[vendor].find(o => o.quality === quality);
            const lemonPrice = parseFloat(offer.price);

            let errors = [];
            if (vendor === 'wholesale' && (buyLemons < MIN_WHOLESALE_LEMONS || buyLemons % WHOLESALE_INCREMENT !== 0)) {
                errors.push(`Wholesale requires a minimum of ${MIN_WHOLESALE_LEMONS} lemons in increments of ${WHOLESALE_INCREMENT}.`);
            }
            if (interns + experienced + managers === 0) {
                errors.push("You must hire at least one employee.");
            }
            const totalCost = (buyLemons * lemonPrice) + (buySugar * SUGAR_COST) + (signs * SIGN_COST) +
                            (interns * EMPLOYEE_TYPES.intern.wage) + (experienced * EMPLOYEE_TYPES.experienced.wage) + (managers * EMPLOYEE_TYPES.manager.wage);
            if (totalCost > gameState.bankroll) {
                errors.push("Not enough money to cover purchases and wages.");
            }

            if (errors.length > 0) {
                elements.errors.innerHTML = errors.join('<br>');
                return;
            }

            gameState.bankroll -= totalCost;
            gameState.cumulativeExpenses += totalCost;
            gameState.lemonsInventory[quality] += buyLemons;
            gameState.sugarInventory += buySugar;

            let nonManagerCapacity = (interns * EMPLOYEE_TYPES.intern.capacity) + (experienced * EMPLOYEE_TYPES.experienced.capacity);
            const managerCapacity = managers * EMPLOYEE_TYPES.manager.capacity;
            const totalCapacity = managers > 0 ? Math.floor(nonManagerCapacity * (1 + EMPLOYEE_TYPES.manager.boost)) + managerCapacity : nonManagerCapacity + managerCapacity;

            let baseDemand = BASE_CUSTOMERS;
            baseDemand += signs * 20;
            const recipeMultiplier = getRecipeDemandMultiplier(lemonsPerCup, sugarPerCup);
            baseDemand *= recipeMultiplier;
            baseDemand *= (1 + SPECIAL_INGREDIENTS[specialIngredient].demandBoost);
            baseDemand *= (1 + CUP_TYPES[cupType].demandBoost);
            baseDemand += gameState.wordOfMouthBonus;
            if (gameState.poorQualityPenaltyNextWeek) {
                baseDemand *= 0.75;
                gameState.poorQualityPenaltyNextWeek = false;
            }
            const priceFactor = salesPrice > 1.75 ? Math.max(0.25, 1 - ((salesPrice - 1.75) / 0.5) * 0.25) : 1;
            const totalDemand = Math.floor(baseDemand * priceFactor);

            const cupsSold = Math.min(totalCapacity, totalDemand, Math.floor((gameState.lemonsInventory[1] + gameState.lemonsInventory[2] + gameState.lemonsInventory[3] + gameState.lemonsInventory[4]) / lemonsPerCup), Math.floor(gameState.sugarInventory / sugarPerCup));
            const revenue = cupsSold * salesPrice;
            gameState.cumulativeRevenue += revenue;
            gameState.totalProfit += revenue - totalCost;
            gameState.bankroll += revenue;

            const costPerCup = (lemonsPerCup * lemonPrice) + (sugarPerCup * SUGAR_COST) + SPECIAL_INGREDIENTS[specialIngredient].cost + CUP_TYPES[cupType].cost;
            const totalMaterialsCost = cupsSold * costPerCup;
            gameState.cumulativeExpenses += totalMaterialsCost;

            const totalLemonsUsed = cupsSold * lemonsPerCup;
            const totalSugarUsed = cupsSold * sugarPerCup;
            let remainingLemonsToUse = totalLemonsUsed;
            for (let q = 4; q >= 1; q--) {
                if (remainingLemonsToUse > 0) {
                    const lemonsToUse = Math.min(gameState.lemonsInventory[q], remainingLemonsToUse);
                    gameState.lemonsInventory[q] -= lemonsToUse;
                    remainingLemonsToUse -= lemonsToUse;
                }
            }
            gameState.sugarInventory -= totalSugarUsed;

            const avgQuality = calculateAverageQuality();
            gameState.poorQualityPenaltyNextWeek = avgQuality < 2;
            gameState.wordOfMouthBonus = avgQuality > 3 ? Math.floor(revenue * 0.1) : 0;

            let spoiledLemons = 0;
            for (let q in gameState.lemonsInventory) {
                const spoiled = Math.floor(gameState.lemonsInventory[q] * SPOILAGE_RATE);
                spoiledLemons += spoiled;
                gameState.lemonsInventory[q] -= spoiled;
                gameState.bankroll -= spoiled * SPOILAGE_COST_PER_LEMON;
                gameState.cumulativeExpenses += spoiled * SPOILAGE_COST_PER_LEMON;
            }

            // Add random tips between $10 and $70
            const tips = Math.floor(Math.random() * 61) + 10; // Generates a number between 10 and 70
            gameState.bankroll += tips;
            gameState.totalProfit += tips;

            if (gameState.week === 1) {
                gameState.firstWeekRevenue = revenue;
            }
            gameState.previousRevenue = revenue;

            const weekResult = `Week ${gameState.week} Results:<br>
                Cups Sold: ${cupsSold}<br>
                Revenue: $${revenue.toFixed(2)}<br>
                Expenses: $${(totalCost + totalMaterialsCost).toFixed(2)}<br>
                Tips: $${tips.toFixed(2)}<br>
                Spoiled Lemons: ${spoiledLemons} (Cost: $${(spoiledLemons * SPOILAGE_COST_PER_LEMON).toFixed(2)})<br>
                Profit: $${(revenue + tips - totalCost - totalMaterialsCost).toFixed(2)}<br>
                Average Lemon Quality Used: ${avgQuality.toFixed(2)}<br>
                ${gameState.poorQualityPenaltyNextWeek ? '<span class="warning">Poor quality detected! Demand will decrease next week.</span>' : ''}
                ${gameState.wordOfMouthBonus > 0 ? `<span class="hint">High quality! Word of mouth bonus next week: ${gameState.wordOfMouthBonus} extra customers.</span>` : ''}`;

            elements.results.innerHTML = weekResult;
            gameState.history.push(weekResult);
            elements.historyContent.innerHTML = gameState.history.join('<hr>');

            gameState.week++;
            if (gameState.week > MAX_WEEKS) {
                endGame();
                return;
            }

            elements.weekIndicator.textContent = `Week ${gameState.week} of ${MAX_WEEKS}`;
            generateVendorOffers();
            updateInventoryDisplay();
            updateQualityOptions();
            updateCostFeedback();
        }

        function endGame() {
            const consistencyBonus = Math.abs(gameState.firstWeekRevenue - gameState.previousRevenue) < 50 ? 100 : 0;
            gameState.bankroll += consistencyBonus;
            gameState.totalProfit += consistencyBonus;

            elements.results.innerHTML = `<span class="final-results">Game Over!</span><br>
                Total Profit: $${gameState.totalProfit.toFixed(2)}<br>
                Final Bankroll: $${gameState.bankroll.toFixed(2)}<br>
                Cumulative Revenue: $${gameState.cumulativeRevenue.toFixed(2)}<br>
                Cumulative Expenses: $${gameState.cumulativeExpenses.toFixed(2)}<br>
                ${consistencyBonus > 0 ? `<span class="hint">Consistency Bonus: $${consistencyBonus.toFixed(2)}</span>` : ''}`;
            elements.inputForm.style.display = 'none';
            elements.restart.style.display = 'block';
        }

        function restartGame() {
            initializeGame();
            elements.inputForm.style.display = 'block';
            elements.restart.style.display = 'none';
            elements.results.innerHTML = '';
            elements.historyContent.innerHTML = 'No weeks completed yet.';
            elements.weekIndicator.textContent = `Week 1 of ${MAX_WEEKS}`;
        }

        const costInputs = ['vendor', 'lemonQuality', 'buyLemons', 'buySugar', 'signs', 'interns', 'experienced', 'managers', 'lemonsPerCup', 'sugarPerCup', 'specialIngredient', 'cupType', 'salesPrice'];
        costInputs.forEach(id => {
            const input = document.getElementById(id);
            input.addEventListener('change', updateCostFeedback);
            if (input.type === 'number') {
                input.addEventListener('input', updateCostFeedback);
            }
        });

        updateQualityOptions();
        updateCostFeedback();
    </script>
</body>
</html>
